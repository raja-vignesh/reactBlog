(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{220:function(e,t,a){e.exports=a(428)},225:function(e,t,a){},227:function(e,t,a){},428:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(215),o=a.n(l),c=(a(225),a(20)),s=a(21),i=a(23),m=a(22),u=a(24),p=(a(227),a(429)),h=function(){return r.a.createElement("ul",{className:"navbar-nav  ml-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(p.a,{to:"/signin",className:"nav-link"},"Login ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.a,{to:"/signup",className:"nav-link"},"Signup")))},d=a(12),E=Object(d.b)(function(e){return console.log("signed in mapStatToProps"),console.log(e),{initials:e.firebase.profile.initials}},function(e){return{signout:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){return e({type:"SIGNOUT_SUCCESS"})}).catch(function(t){return e({type:"SIGNOUT_FAILURE",err:t})})})}}})(function(e){return r.a.createElement("ul",{className:"navbar-nav  ml-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(p.a,{to:"/createRecipe",className:"nav-link"},"Create Recipe ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.a,{to:"/",className:"nav-link"},"Recipes List")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{class:"nav-link",onClick:e.signout},"Logout")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.a,{to:"/",className:"btn btn-floating btn-circle btn-xl btn-danger"},e.initials)))}),b=Object(d.b)(function(e){return{auth:e.firebase.auth.uid}})(function(e){var t=e.auth;console.log("NavBar"),console.log(t);var a=t?r.a.createElement(E,null):r.a.createElement(h,null);return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(p.a,{to:"/",className:"navbar-brand"},"Blog"),a))}),g=a(430),f=a(433),N=a(432),v=a(29),O=a(431),C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",firstName:"",lastName:""},a.handleSubmit=function(e){e.preventDefault(),console.log("test handleSubmit"),console.log(a.state),a.props.signup(a.state)},a.handleChange=function(e){a.setState(Object(v.a)({},e.target.id,e.target.value))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError,a=e.auth;return console.log(t),a.uid?r.a.createElement(O.a,{to:"/"}):r.a.createElement("div",{className:"jumbotron",style:{background:"transparent"}},r.a.createElement("div",{className:"container"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"email",className:"col-sm-2 col-form-label"},"Email"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"email",className:"form-control",id:"email",placeholder:"Email",onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"password",className:"col-sm-2 col-form-label"},"Password"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"firstName",className:"col-sm-2 col-form-label"},"First Name"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"text",className:"form-control",id:"firstName",placeholder:"First Name",onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"lastName",className:"col-sm-2 col-form-label"},"Last Name"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"text",className:"form-control",id:"lastName",placeholder:"Last Name",onChange:this.handleChange}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleSubmit},"Submit")),null!=t?r.a.createElement("p",null," ",t.message," "):null))}}]),t}(n.Component),j=Object(d.b)(function(e,t){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e){return{signup:function(t){return e((a=t,function(e,t,n){var r=n.getFirebase,l=n.getFirestore,o=r(),c=l();o.auth().createUserWithEmailAndPassword(a.email,a.password).then(function(e){return console.log("singup response"),console.log(e),console.log(a.firstName,a.lastName),c.collection("users").doc(e.user.uid).set({firstName:a.firstName,lastName:a.lastName,initials:a.firstName[0]+a.lastName[0]})}).then(function(){e({type:"USER_CREATION_SUCCESS"})}).catch(function(t){console.log(t),e({type:"USER_CREATION_FAILED",err:t})})}));var a}}})(C),R=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),console.log(e.state),e.props.signin(e.state)},e.handleChange=function(t){console.log(t),e.setState(Object(v.a)({},t.target.id,t.target.value))},e.state={email:"",password:""},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth?r.a.createElement(O.a,{to:"/"}):(console.log(t),r.a.createElement("div",{className:"jumbotron",style:{background:"transparent"}},r.a.createElement("div",{className:"container"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"email",className:"col-sm-2 col-form-label"},"Email"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"email",className:"form-control",id:"email",placeholder:"Email",onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"password",className:"col-sm-2 col-form-label"},"Password"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",onChange:this.handleChange}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleSubmit},"Signin")),null!=t?r.a.createElement("p",null," ",t.message," "):null)))}}]),t}(n.Component),y=Object(d.b)(function(e,t){return{authError:e.auth.authError,auth:e.firebase.auth.uid}},function(e){return{signin:function(t){return e(function(e){return console.log("AuthActions"),function(t,a,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then(function(e){return console.log("response"),console.log(e),t({type:"LOGIN_SUCCESS",response:e})}).catch(function(e){return console.log("err"),console.log(e),t({type:"LOGIN_ERROR",err:e})})}}(t))}}})(R),S=a(218),w=a.n(S),A=function(e){var t=e.item;return console.log(t),r.a.createElement("div",{className:"container",style:{marginTop:"20px"}},r.a.createElement("div",{className:"row-justify-content-md-center"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body text-left"},r.a.createElement("h5",{className:"card-title"},t.title),r.a.createElement("p",{className:"card-text"},t.content),r.a.createElement("p",{className:"card-text"},r.a.createElement("small",{class:"text-muted"},"Authored by ",t.authorForeame," ",t.authorSurname," on ",w()(t.createdAt.toDate().toString()).calendar()))))))},I=a(25),F=function(e){return console.log("Add Recipe"),function(t,a,n){n.getFirebase;var r=(0,n.getFirestore)(),l=a().firebase.profile;console.log("Add Recipe"),r.collection("recipes").add(Object(I.a)({},e,{authorForeame:l.firstName,authorSurname:l.lastName,createdAt:new Date})).then(function(){return t({type:"CREATE_RECIPE",recipe:e})}).catch(function(e){return t({type:"CREATE_RECIPE_ERROR",err:e})})}},k=a(15),_=a(40),L=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("componentDidMount")}},{key:"render",value:function(){console.log(this.props);this.props.projects;var e=this.props.auth;return console.log("uid"),console.log(e.uid),e.uid?(console.log("render"),console.log(this.props.recipes),this.props.recipes&&this.props.recipes.length>0?this.props.recipes.map(function(e){return r.a.createElement(A,{item:e,key:e.id})}):r.a.createElement("p",null,"Loading content")):r.a.createElement(O.a,{to:"/signin"})}}]),t}(n.Component),T=Object(k.d)(Object(d.b)(function(e){return{recipes:e.firestore.ordered.recipes,auth:e.firebase.auth}},function(e,t){return console.log("mapDispatchToProps"),Object(k.b)({RecipeListAction:F},e)}),Object(_.firestoreConnect)([{collection:"recipes"}]))(L),U=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),console.log(e.state),e.props.addRecipe(e.state),e.props.history.push("/")},e.handleChange=function(t){console.log(t),e.setState(Object(v.a)({},t.target.id,t.target.value))},e.state={title:"",content:""},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log("render it again!!"),r.a.createElement("div",{className:"jumbotron",style:{background:"transparent"}},r.a.createElement("div",{className:"container"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"title",className:"col-sm-2 col-form-label"},"Title"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"text",className:"form-control",id:"title",placeholder:"Title",onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"content",className:"col-sm-2 col-form-label"},"Content"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("textarea",{type:"text",className:"form-control",id:"content",placeholder:"Content",onChange:this.handleChange,rows:"6"}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleSubmit},"Create Recipe"))))}}]),t}(n.Component),x=Object(d.b)(null,function(e){return{addRecipe:function(t){return e(F(t))}}})(U),P=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement(f.a,null,r.a.createElement(N.a,{exact:!0,path:"/",component:T}),r.a.createElement(N.a,{path:"/signup",component:j}),r.a.createElement(N.a,{path:"/signin",component:y}),r.a.createElement(N.a,{path:"/createRecipe",component:x}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D={},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(console.log("RecipeReducer"),t.type){case"RECIPE_LIST":return console.log("in RECIPE_LIST"),e;case"CREATE_RECIPE":case"CREATE_RECIPE_ERROR":default:return e}},B={authError:"",response:""},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(console.log("AuthReducer"),console.log(t.type),t.type){case"USER_CREATION_SUCESS":return Object(I.a)({},e,{authError:null});case"USER_CREATION_FAILED":return console.log("USER_CREATION_FAILED"),console.log(t.err),Object(I.a)({},e,{authError:t.err});case"LOGIN_SUCCESS":return Object(I.a)({},e,{authError:null});case"LOGIN_ERROR":return Object(I.a)({},e,{authError:t.err});case"LOGOUT_SUCCESS":return Object(I.a)({},e,{authError:null});case"LOGOUT_FAILURE":return Object(I.a)({},e,{authError:t.err});default:return e}},z=a(61),J=Object(k.c)({recipes:G,firestore:z.firestoreReducer,firebase:_.firebaseReducer,auth:W}),M=a(219),K=a(89),V=a.n(K);a(421),a(426);V.a.initializeApp({apiKey:"AIzaSyD7kI7CL0lSUgpRlj22hCCiVkZdEBAAr08",authDomain:"blog-97c7a.firebaseapp.com",databaseURL:"https://blog-97c7a.firebaseio.com",projectId:"blog-97c7a",storageBucket:"blog-97c7a.appspot.com",messagingSenderId:"908118792173"}),console.log("Initialized"),V.a.firestore().settings({timestampsInSnapshots:!0});var Z=V.a,$=Object(k.e)(J,Object(k.d)(Object(k.a)(M.a.withExtraArgument({getFirebase:_.getFirebase,getFirestore:z.getFirestore})),Object(_.reactReduxFirebase)(Z,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0}),Object(z.reduxFirestore)(Z)));$.firebaseAuthIsReady.then(function(){o.a.render(r.a.createElement(d.a,{store:$},r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})})}},[[220,2,1]]]);
//# sourceMappingURL=main.f4839546.chunk.js.map